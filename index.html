<!doctype html>
<!--
Created using JS Bin
http://bin.webduino.io

Copyright (c) 2022 by anonymous (http://bin.webduino.io/cuneh/1/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Webduino Blockly Demo 07</title>
  <script src="https://blocklypro.webduino.io/node_modules/jquery/dist/jquery.min.js?rev=2f6b11a7e914718e0290410e85366fe9"></script>
  <script src="https://blocklypro.webduino.io/dist/lib/webduino-all-0.4.20.min.js?rev=4426739c00d85325cb2d3d701fa50666"></script>
  <script src="https://blocklypro.webduino.io/dist/webduino-blockly.min.js?rev=6e074ceb23d12d1f7cf2ec95cd5a4150"></script>
  <script src="https://blocklypro.webduino.io/dist/lib/runtime.min.js?rev=683a69503433786202911b4d9f766100"></script>
  <script src="https://blocklypro.webduino.io/node_modules/webduino-module-rfid/RFID.js"></script>
  <script src="https://blocklypro.webduino.io/node_modules/webduino-module-rfid/RFID-blockly.js"></script>
  
<style id="jsbin-css">
*{
  cursor: none!important;
  }
#player {
  pointer-events: auto!important;
}

#player {
  background: #000;
  position: fixed;
  width: 100%;
  height: 100%;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: -1;
  pointer-events: none;
}

@media (min-aspect-ratio: 16/9) {
  #player {
    height: 150%;
    top:-25%;
  }
}

@media (max-aspect-ratio: 16/9) {
  #player {
    width: 100%;
    left: 0%;
  }
}
</style>
</head>

<body>
  <div>
    <div id="player"></div>
  </div>
<script id="jsbin-javascript">
(async function () {

var rfid;
var youtube;


boardReady({board: 'Smart', device: 'BkPny', transport: 'mqtt'}, async function (board) {
  board.samplingInterval = 1000;
  rfid = getRFID(board);
  var youtubePlay, youtubeStop, youtubePause;
  await new Promise(function (resolve) {
    var tag = document.createElement('script');
    tag.src = 'https://www.youtube.com/iframe_api';
    var scptTag = document.getElementsByTagName('script')[0];
    scptTag.parentNode.insertBefore(tag, scptTag);
    window.onYouTubeIframeAPIReady = function () {
      youtube = new YT.Player('player', {
        height: '240',
        width: '96%',
        playerVars: {
          autoplay: 1,
          controls: 1
        },
        events: {
          onReady: function (evt) {
            youtube.loadVideoById({
              videoId: '5lgBUBHvmIQ'
            });
            resolve();
          },
          onStateChange: onPlayerStateChange
        }
      });
    };
  });
  function onPlayerStateChange(event) {
    if(event.data == youtubeStop) {
      youtubeStopCallback();
    }else if (event.data == youtubePlay) {
      youtubePlayCallback();
    }else if (event.data == youtubePause) {
      youtubePauseCallback();
    }
  };
  rfid.read();
  rfid.on("enter",async function(_uid){
    rfid._uid = _uid;
    <!--第一組-->
    if(rfid._uid == 'bf2b53c'){
      youtube.loadVideoById(getYoutubeVideoId('LjIiPHjEMyI'));
    }
    if(rfid._uid == '73743fba'){
      youtube.loadVideoById(getYoutubeVideoId('d2iFUkURb9I'));
    }
    if(rfid._uid == 'dd1a69c'){
      youtube.loadVideoById(getYoutubeVideoId('oCW9G0YgBj4'));
    }
     if(rfid._uid == '163752ea'){
      youtube.loadVideoById(getYoutubeVideoId('zFUVF3gwEL0'));
    }
     if(rfid._uid == '163f16fa'){
      youtube.loadVideoById(getYoutubeVideoId('-KYtZjacLAY'));
    }
     if(rfid._uid == 'dd41a1c'){
      youtube.loadVideoById(getYoutubeVideoId('0klFeO0jypY'));
    }
  });
  youtubeStop = 0;
  function youtubeStopCallback() {
    youtube.loadVideoById(getYoutubeVideoId('5lgBUBHvmIQ'));
  }
});

}());
</script>
</body>
